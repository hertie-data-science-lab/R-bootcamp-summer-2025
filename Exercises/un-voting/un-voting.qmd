# UN Voting

Source: Chapter 3 of [Quantiative Social Science: An Introduction with Tidyverse](https://press.princeton.edu/books/paperback/9780691222288/quantitative-social-science) with modifications and new exercises by [Jackson Luckey](www.jacksonmluckey.com) to shift the emphasis towards data science and away from causal inference and to include more opportunities to make plots and summary tables.

```{r}
library(tidyverse)

un <- read_csv(here::here('Exercises', 'un-voting', 'data', 'unvoting.csv'))

un
trial branche
```

Like legislators in the US Congress, the member states of the United Nations (UN) are politically divided on many issues such as trade, nuclear disarmament, and human rights. During the Cold War, countries in the UN General Assembly tended to split into two factions: one led by the capitalist United States and the other by the communist Soviet Union. In this exercise we will analyze how states' ideological positions, as captured by their votes on UN resolutions, have changed since the fall of communism.

In the analysis that follows, we measure state preferences in two ways. First, we can use the percentage of votes by each country that coincide with votes on the same issue cast by the two major Cold War powers: the United States and the Soviet Union. For example, if a country voted for ten resolutions in 1992, and if its vote matched the United States's vote on exactly six of these resolutions, the variable `PctAgreeUS` in 1992 would equal 60 for this country. Second, we can also measure state preferences in terms of numerical ideal points (`idealpoint`). These ideal points capture what international relations scholars have called countries' _liberalism_ on issues such as political freedom, democratization, and financial liberalization. The two measures are highly correlated, with larger (more liberal) ideal points corresponding to a higher percentage of votes that agree with the United States.

1. Let's look at how `idealpoint` has varied over time. Calculate the mean of `idealpoint` by year and make a line plot (`geom_line()`) with the year as the x-axis and the mean `idealpoint` as the y-axis.

2. Repeat this exercise with `PctAgreeUS` and `PctAgreeRUSSIA`.

(Solutions also show how to get them both into the same plot).

3. Create a new variable, `AgreeMoreUS`, that is `TRUE` when `PctAgreeUS` is greater than `PctAgreeRUSSIA`. Use `AgreeMoreUS` to create a new line plot showing what percentage of countries vote more with the US than Russia over time.

4. Let's look at how `idealpoint` varies with `AgreeMoreUS` across all countries and years. Use a histogram. Then produce the same plot but only for the years 1980 and 2000 (about one decade before and after the fall of the Berlin Wall). How do the two variables relate to each other? How do they vary over time? Does their relationship to one another change over time?


5. Calculate the percentage of votes where the US and Russia agree by year and create a line graph. How does this change over time? Are there clear temporal patterns?

6. Calculate the number of years that each country voted more with the US than Russia. Which countries voted the most years with the US over Russia?

END OF SOLUTIONS

Let's look at the former Soviet Union countries. I've provided a vector `former_soviet_union` that includes the names of all the countries in the former Soviet Union. You can use `%in%` inside `mutate()` or `filter()`, which returns `TRUE` when a value is in a vector and `FALSE` otherwise.

```{r}
former_soviet_union <- c(
    "Estonia",
    "Latvia",
    "Lithuania",
    "Belarus",
    "Moldova",
    "Ukraine",
    "Armenia",
    "Azerbaijian",
    "Georgia",
    "Kazakhstan",
    "Kyrgyzstan",
    "Tajikistan",
    "Uzbekistan",
    "Russia"
)
```

For example

```{r}
c("Germany", "Ukraine") %in% former_soviet_union
```

7. Look at how `idealpoint` and voting shares have varied over time between countries in and out of the former Soviet Union. You can either produce separate line plots for countries in and out of the former Soviet Union or use `pivot_longer()` to create combined figures.

8. Estonia, Latvia, and Lithuania are part of the European Union. Following the logic of the previous exercise, compare them to the other former Soviet Union countries since 1990. Consider other ways of grouping the former Soviet Union countries.

9. One problem of using the percentage of votes that agree with the United States or Russia as a measure of state preferences is that the ideological positions, and consequently the voting patterns, of the two countries might themselves have changed over time. This makes it difficult to know which countries ideological positions have changed. Investigate this issue by plotting the evolution of the two countries' ideal points over time. Add the yearly median ideal point of all countries. How might the results of this analysis modify (or not) your interpretation of earlier analyses. (This question is almost verbatim from the textbook).

10. We have just seen that while some post-Soviet countries have retained nonliberal ideologies, other post-Soviet countries were much more liberal in 2012. Let's examine how the median ideal points of Soviet/post-Soviet countries and all other countries has varied over all the years in the data. Plot these median ideal points by year. (This question is almost verbatim from the textbook).